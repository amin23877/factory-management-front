(this.webpackJsonpphocus=this.webpackJsonpphocus||[]).push([[26],{414:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(18),r=n(3),l=n(2),i=(n(0),n(353)),o=n(238),c=n(1376),u=n(981),d=n(982),s=n(81);function b(e){var t=e.kind,n=Object(r.a)(e,["kind"]),b=Object(i.a)({btnStyle:{background:t?"add"===t?s.a.success:"edit"===t?s.a.warning:s.a.error:"default"}}),j={add:Object(l.jsx)(c.a,{}),edit:Object(l.jsx)(u.a,{}),delete:Object(l.jsx)(d.a,{})},h=b();return Object(l.jsx)(o.a,Object(a.a)(Object(a.a)({className:h.btnStyle,startIcon:t?j[t]:n.startIcon,variant:t?"contained":n.variant,color:t?"primary":n.color},n),{},{children:n.children}))}},421:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));var a=n(2),r=(n(0),n(353)),l=n(452),i=Object(r.a)({root:{backgroundColor:"#f9f9f9",border:"none","& .MuiDataGrid-columnsContainer":{backgroundColor:"#202731",color:"#fff"},"& .MuiDataGrid-iconSeparator":{display:"none",width:0,height:0,opacity:0},"& .Mui-selected":{boxShadow:" rgba(149, 157, 165, 0.2) 0px 8px 24px",backgroundColor:"#fff !important"},"& .MuiDataGrid-sortIcon":{fill:"white"}}});function o(e){var t=e.onRowSelected,n=e.rows,r=e.cols,o=e.height,c=i();return Object(a.jsx)("div",{style:{flexGrow:1,height:o||450},children:Object(a.jsx)(l.a,{density:"compact",components:{Toolbar:l.b},className:c.root,onRowSelected:function(e){t&&t(e.data)},columns:r,rows:n})})}var c=function(e){var t=e.onRowSelected,n=e.rows,r=e.cols,o=(e.height,i());return Object(a.jsx)(l.a,{density:"compact",components:{Toolbar:l.b},className:o.root,onRowSelected:function(e){t&&t(e.data)},columns:r,rows:n})}},422:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m}));var a=n(18),r=n(15),l=n(3),i=n(2),o=n(0),c=n(241),u=n(1369),d=n(1400),s=function(e){var t=e.request,n=e.limit,u=e.getOptionLabel,s=e.getOptionValue,b=e.onChange,j=e.value,h=Object(l.a)(e,["request","limit","getOptionLabel","getOptionValue","onChange","value"]),m=Object(o.useState)([]),p=Object(r.a)(m,2),f=p[0],O=p[1],v=Object(o.useState)(),g=Object(r.a)(v,2),x=g[0],C=g[1];return Object(o.useEffect)((function(){var e=f.find((function(e){return s(e)===j}));C(e)}),[j,f,s]),Object(o.useEffect)((function(){t().then((function(e){O(n&&n>0?e.slice(0,n):e)})).catch((function(e){return console.log(e)}))}),[n,t]),Object(i.jsx)(d.a,{style:h.style,getOptionLabel:u,options:f,onChange:b,onBlur:h.onBlur,value:x,renderInput:function(e){return Object(i.jsx)(c.a,Object(a.a)(Object(a.a)({},e),{},{label:null===h||void 0===h?void 0:h.label,error:h.error,placeholder:h.placeholder,size:"small",variant:"outlined"}))}})},b=function(e){e.inputStyle;var t=e.items,n=e.itemTitleField,r=e.itemValueField,o=e.keyField,d=Object(l.a)(e,["inputStyle","items","itemTitleField","itemValueField","keyField"]);return Object(i.jsxs)(c.a,Object(a.a)(Object(a.a)({},d),{},{variant:"outlined",size:"small",select:!0,children:[Object(i.jsx)(u.a,{value:void 0,children:"None"}),t&&t.length>=0&&t.map((function(e,t){return Object(i.jsx)(u.a,{value:e[r],children:e[n]},o?e[o]:t)}))]}))},j=function(e){e.keyField;var t=e.request,n=e.itemValueField,c=e.itemTitleField,u=e.limit,d=e.getOptionList,s=Object(l.a)(e,["keyField","request","itemValueField","itemTitleField","limit","getOptionList"]),j=Object(o.useState)([]),h=Object(r.a)(j,2),m=h[0],p=h[1];return Object(o.useEffect)((function(){t().then((function(e){if(u&&u>0){var t=d?d(e):e.slice(0,u);p(t)}else{var n=d?d(e):e;p(n)}})).catch((function(e){return console.log(e)}))}),[d,u,t]),Object(i.jsx)(b,Object(a.a)(Object(a.a)({},s),{},{itemTitleField:c,itemValueField:n,items:m}))},h=function(e){var t=e.items,n=Object(l.a)(e,["items"]);return Object(i.jsx)(b,Object(a.a)({itemTitleField:"item",itemValueField:"item",items:t?t.map((function(e){return{item:e}})):[]},n))},m=function(e){return Object(i.jsx)(c.a,Object(a.a)(Object(a.a)({},e),{},{variant:"outlined",size:"small",select:!0,children:e.children}))}},423:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var a=n(18),r=n(2),l=(n(0),n(7)),i=n(180),o=Object(l.a)((function(e){return{root:{borderRadius:20,padding:"1em",boxShadow:"rgba(0, 0, 0, 0.08) 0px 4px 12px"}}}))((function(e){return Object(r.jsx)(i.a,Object(a.a)({},e))})),c=Object(l.a)((function(e){return{root:{borderRadius:10,padding:e.spacing(4),display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"#fff"}}}))((function(e){return Object(r.jsx)(i.a,Object(a.a)(Object(a.a)({},e),{},{elevation:5}))}))},424:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(232),r=function(e){return e?Object(a.a)(e,"MM/dd/yyyy"):""}},438:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(69);function r(e,t){switch(t){case"success":a.b.success(e);break;case"warning":a.b.warning(e);break;case"error":a.b.error(e);break;case"info":a.b.info(e);break;default:Object(a.b)(e)}}},445:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o}));var a=n(232),r=function(e,t){return Object(a.a)(new Date(e),t)},l=function(e,t){var n={};return e&&Object.entries(e).forEach((function(e){var a=e[0],r=e[1];r!==t[a]&&(n[a]=r)})),0===Object.keys(n).length?null:n},i=function(e,t,n){return e.filter((function(e){return n(e)===t})).length},o=function(e){var t=[],n="";for(var a in e)null!==(n=e[a])&&void 0!==n&&""!==n&&t.push("".concat(a,"=").concat(n));return t.join("&")}},453:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o}));var a=n(20),r=function(e,t){return Object(a.d)("/document/".concat(e,"/").concat(t))},l=function(e,t,n,r,l){var i=new FormData;return i.append("document",n),i.append("description",r),l&&i.append("fileName",l),Object(a.g)("/document/".concat(e,"/").concat(t),i)},i=function(e,t,n){var r=new FormData;return r.append("document",t),r.append("description",n),Object(a.f)("/document/".concat(e),r)},o=function(e){return Object(a.b)("/document/".concat(e))}},455:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(31),r=n.n(a),l=n(65),i=n(2),o=n(0),c=n(157),u=n(778),d=n(241),s=n(87),b=n(183),j=n(414),h=n(453),m=n(514),p=n.n(m);function f(e){var t=e.pdf,n=e.height;return Object(i.jsxs)("object",{width:"100%",height:n||400,data:t,type:"application/pdf",children:[Object(i.jsx)("embed",{src:t,type:"application/pdf"}),'Can"t load pdf :(, If you have IDM extention please desable it or download the file']})}var O=n(182),v=function(e,t){return Object(O.c)("/document/".concat(e,"/").concat(t))};function g(e){var t=e.open,n=e.onClose,a=e.model,m=e.itemId,O=e.onDone,g=e.docData,x=Object(o.useRef)(),C=function(){var e=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!g||!g.id){e.next=7;break}return e.next=4,Object(h.b)(g.id);case 4:O&&O(),v(a,m),n();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(r.a.mark((function e(t,l){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=l.setSubmitting,e.prev=1,!g||!g.id){e.next=10;break}return e.next=5,Object(h.d)(g.id,t.file,t.description);case 5:O&&O(),v(a,m),n(),e.next=15;break;case 10:return e.next=12,Object(h.a)(a,m,t.file,t.description);case 12:O&&O(),v(a,m),n();case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0);case 20:return e.prev=20,i(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[1,17,20,23]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(i.jsx)(b.a,{open:t,onClose:n,fullScreen:!0,title:"".concat(g?"Edit":"Add"," Document to ").concat(a),children:Object(i.jsxs)(c.a,{height:"82vh",m:3,display:"grid",gridTemplateColumns:"1fr 1fr",gridColumnGap:10,children:[Object(i.jsx)(c.a,{children:(null===g||void 0===g?void 0:g.path)&&Object(i.jsx)(f,{height:"100%",pdf:"http://digitalphocus.ir/"+(null===g||void 0===g?void 0:g.path)})}),Object(i.jsx)(s.b,{initialValues:g||{},onSubmit:y,children:function(e){var t=e.values,n=e.handleBlur,a=e.handleChange,r=e.setFieldValue,l=e.isSubmitting;return Object(i.jsx)(s.a,{children:Object(i.jsxs)(c.a,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",children:[Object(i.jsx)("input",{type:"file",ref:function(e){return x.current=e},hidden:!0,onChange:function(e){return null!==e.target.files&&r("file",e.target.files[0])}}),Object(i.jsxs)(j.a,{color:"primary",style:{backgroundColor:"#fff",color:" rgb(43,140,255) ",border:"1px solid rgb(43,140,255) ",width:"100%"},variant:"contained",onClick:function(){var e;return null===(e=x.current)||void 0===e?void 0:e.click()},children:[Object(i.jsx)(p.a,{style:{marginRight:"7px"}}),"Upload file"]}),Object(i.jsx)("div",{style:{margin:"1em 0"},children:t.file?Object(i.jsx)("p",{children:"ads"}):g?Object(i.jsx)(u.a,{download:!0,href:g.path,children:"Download previous file"}):""}),Object(i.jsx)(d.a,{style:{marginBottom:"20px"},fullWidth:!0,value:t.description,name:"description",label:"Description",variant:"outlined",multiline:!0,rows:4,onChange:a,onBlur:n}),Object(i.jsxs)(c.a,{style:{display:"flex",width:"100%"},children:[Object(i.jsx)(j.a,{type:"submit",kind:g?"edit":"add",disabled:l,style:{flex:1},children:"Save"}),g&&Object(i.jsx)(j.a,{style:{marginLeft:"1em"},onClick:C,kind:"delete",disabled:l,children:"Delete"})]})]})})}})]})})}},470:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var a=n(428),r=n(591),l=function(e){return e.split("__")[0]},i=function(e){return"".concat(e).concat("__").concat(Object(r.a)())},o=function(e,t){if(e.all)return!0;var n,r=Object(a.a)(e.filterName);try{for(r.s();!(n=r.n()).done;){var l,i=n.value,o=Object(a.a)(e.filterValue);try{for(o.s();!(l=o.n()).done;){var c=l.value;return!(!t[i]||"all"!==c&&t[i]!==c)}}catch(u){o.e(u)}finally{o.f()}}}catch(u){r.e(u)}finally{r.f()}}},505:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){return e.split(".").pop()}},511:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return g})),n.d(t,"g",(function(){return x})),n.d(t,"a",(function(){return C})),n.d(t,"c",(function(){return y}));var a=n(2),r=(n(0),n(157)),l=n(180),i=n(384),o=n(408),c=n(402),u=n(392),d=n(182),s=n(159),b=n(414),j=n(422);function h(e){var t=e.cluster,n=e.device,r=e.handleBlur,l=e.handleChange,i=e.values;return"Product Family"!==t.name||n?Object(a.jsx)(j.a,{defaultValue:i?i[t.name]:"",name:t.name,label:t.name,items:t.valid,value:i?i[t.name]:"",onChange:l,onBlur:r}):null}var m=n(470);function p(e){var t=e.level,n=e.handleBlur,r=e.handleChange,l=e.values,c=e.device;return Object(m.b)(t,l)&&("Product Family"!==t.filterName[0]||c)?"string"===t.type||"number"===t.type?Object(a.jsx)(s.c,{required:t.required,name:t.name,label:Object(m.c)(t.name),onChange:r,onBlur:n,value:l[t.name]}):"enum"===t.type?Object(a.jsx)(j.a,{required:t.required,name:t.name,label:Object(m.c)(t.name),items:t.valid,onChange:r,onBlur:n,value:l[t.name]}):"boolean"===t.type?Object(a.jsx)(i.a,{checked:l[t.name],control:Object(a.jsx)(o.a,{required:t.required}),name:t.name,label:Object(m.c)(t.name),onChange:r,onBlur:n}):Object(a.jsx)(s.c,{required:t.required,name:t.name,label:Object(m.c)(t.name),onChange:r,onBlur:n,value:l[t.name]}):null}var f=function(e){e.isSubmitting;var t=e.values,n=e.errors,c=e.handleChange,u=e.handleBlur,d=e.touched;e.setFieldValue,e.device;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(r.a,{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gridRowGap:10,gridColumnGap:10,pr:1,children:[Object(a.jsx)(l.a,{style:{margin:"0.5em 0",padding:"0 0.5em 0 1em",backgroundColor:"#eee",gridColumnEnd:"span 4"},children:Object(a.jsxs)(r.a,{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gridRowGap:10,gridColumnGap:10,pr:1,children:[Object(a.jsx)(i.a,{style:{fontSize:"0.7rem"},checked:t.shippingApproved,label:"Ship. Ap.",name:"shippingApproved",onChange:c,control:Object(a.jsx)(o.a,{})}),Object(a.jsx)(i.a,{style:{fontSize:"0.7rem"},checked:t.salesApproved,label:"Sales Ap.",name:"salesApproved",onChange:c,control:Object(a.jsx)(o.a,{})}),Object(a.jsx)(i.a,{style:{fontSize:"0.7rem"},checked:t.engineeringApproved,label:"En. Ap.",name:"engineeringApproved",onChange:c,control:Object(a.jsx)(o.a,{})}),Object(a.jsx)(i.a,{style:{fontSize:"0.7rem"},checked:t.obsolete,label:"Obsolete",name:"obsolete",onChange:c,control:Object(a.jsx)(o.a,{})}),Object(a.jsx)(i.a,{style:{fontSize:"0.7rem"},checked:t.nonInventoryItem,label:"Non-Inventory Item",name:"nonInventoryItem",onChange:c,control:Object(a.jsx)(o.a,{})}),Object(a.jsx)(i.a,{style:{fontSize:"0.7rem"},checked:t.rndOnly,label:"R&D",name:"rndOnly",onChange:c,control:Object(a.jsx)(o.a,{})}),Object(a.jsx)(i.a,{style:{fontSize:"0.7rem"},checked:t.dontTrackQoh,label:"Do not Track QOH",name:"dontTrackQoh",onChange:c,control:Object(a.jsx)(o.a,{})}),Object(a.jsx)(i.a,{style:{fontSize:"0.7rem"},checked:t.dontOrderPO,label:"Do not order on POs",name:"dontOrderPO",onChange:c,control:Object(a.jsx)(o.a,{})}),Object(a.jsx)(i.a,{style:{fontSize:"0.7rem"},checked:t.buildToStock,label:"Build To Stock",name:"buildToStock",onChange:c,control:Object(a.jsx)(o.a,{})}),Object(a.jsx)(i.a,{style:{fontSize:"0.7rem"},checked:t.archived,label:"Archive",name:"archived",onChange:c,control:Object(a.jsx)(o.a,{})}),t.archived&&Object(a.jsx)(s.c,{label:"Archive Date",value:t.archiveDate,name:"archiveDate",onChange:c,onBlur:u,error:Boolean(n.archiveDate&&d.archiveDate),placeholder:"archiveDate",disabled:!0,style:{gridColumnEnd:"span 2",marginBottom:10}})]})}),Object(a.jsx)(s.c,{style:{gridColumnEnd:"span 4"},label:"no",value:t.no,name:"no",onChange:c,onBlur:u,error:Boolean(n.no&&d.no),placeholder:"no"}),Object(a.jsx)(s.c,{style:{gridColumnEnd:"span 4"},label:"Item name",placeholder:"Item name",name:"name",onChange:c,onBlur:u,error:Boolean(n.name&&d.name),value:t.name}),Object(a.jsx)(s.c,{multiline:!0,style:{gridColumnEnd:"span 4"},rows:4,placeholder:"description",label:"Description",name:"description",onChange:c,onBlur:u,value:t.description})]})})},O=function(e){var t=e.values,n=(e.errors,e.handleChange),l=e.handleBlur;e.touched;return Object(a.jsxs)(r.a,{mt:1,display:"grid",gridTemplateColumns:"auto auto",gridColumnGap:10,gridRowGap:10,children:[Object(a.jsx)(s.c,{label:"Version",name:"version",placeholder:"Version",value:t.version,onBlur:l,onChange:n}),Object(a.jsx)(s.c,{label:"Url",name:"url",placeholder:"Url",value:t.url,onBlur:l,onChange:n,style:{marginBottom:3}}),Object(a.jsx)(s.c,{label:"Manufacturer Product Number",name:"manufacturerProductNumber",placeholder:"Manufacturer Product Number",value:t.manufacturerProductNumber,onBlur:l,onChange:n,style:{marginBottom:3}}),Object(a.jsx)(s.c,{label:"Manufacturer",name:"manufacturer",placeholder:"Manufacturer",value:t.manufacturer,onBlur:l,onChange:n,style:{marginBottom:3}}),Object(a.jsx)(s.c,{label:"Lead Time",name:"leadTime",placeholder:"Lead Time",value:t.leadTime,onBlur:l,onChange:n,style:{marginBottom:3}}),Object(a.jsx)(s.c,{label:"Quickbook ID",name:"qbid",placeholder:"Quickbook ID",value:t.qbid,onBlur:l,onChange:n,style:{marginBottom:3}})]})},v=function(e){var t=e.values,n=e.errors,l=e.handleChange,i=e.handleBlur,o=e.touched;return Object(a.jsxs)(r.a,{mt:1,display:"grid",gridTemplateColumns:"auto auto",gridColumnGap:10,gridRowGap:10,children:[Object(a.jsx)(s.c,{label:"Recent cost",name:"recentCost",placeholder:"recentCost",value:t.recentCost,onBlur:i,onChange:l,style:{marginBottom:3}}),Object(a.jsx)(s.c,{label:"Labor Cost",name:"laborCost",placeholder:"Labor Cost",value:t.laborCost,onBlur:i,onChange:l,style:{marginBottom:3}}),Object(a.jsx)(s.c,{label:"FIFO Value",name:"fifo",placeholder:"FIFO Value",value:t.fifo,onBlur:i,onChange:l,style:{marginBottom:3}}),Object(a.jsx)(s.c,{label:"QOH Value",name:"qohVal",placeholder:"QOH Value",value:t.cost*t.qtyOnHand,onBlur:i,onChange:l,style:{marginBottom:3},disabled:!0}),Object(a.jsx)(s.c,{label:"retail price",name:"retailPrice",placeholder:"Retail Price",value:t.retailPrice,onBlur:i,onChange:l,style:{marginBottom:3}}),Object(a.jsx)(s.c,{label:"Resell Cost",value:t.resellCost,name:"resellCost",onChange:l,onBlur:i,error:Boolean(n.resellCost&&o.resellCost)})]})},g=function(e){e.itemId;var t=e.handleManualCount,n=e.values,l=e.handleUpdateQuantity;return Object(a.jsxs)(r.a,{mt:1,display:"grid",gridTemplateColumns:"1fr 1fr",gridRowGap:10,gridColumnGap:10,children:[Object(a.jsx)(s.c,{label:"Quantity on hand",placeholder:"Quantity on hand",name:"qtyOnHand",value:n.qtyOnHand,disabled:!0}),Object(a.jsx)(s.c,{label:"Quantity availabe",placeholder:"Quantity availabe",name:"qtyAvailable",value:n.qtyAvailable,disabled:!0}),Object(a.jsx)(s.c,{label:"Quantity on order",placeholder:"Quantity on order",name:"qtyOnOrder",value:n.qtyOnOrder,disabled:!0}),Object(a.jsx)(s.c,{label:"Quantity allocated",placeholder:"Quantity allocated",name:"qtyAllocated",value:n.qtyAllocated,disabled:!0}),Object(a.jsx)(s.c,{label:"Quantity remain",placeholder:"Quantity remain",name:"qtyRemain",value:n.qtyRemain,style:{gridColumnEnd:"span 2"},disabled:!0}),l&&Object(a.jsx)(b.a,{kind:"edit",onClick:l,children:"Update quantity"}),t&&Object(a.jsx)(b.a,{kind:"add",onClick:t,children:"Adjust manual count"})]})},x=function(e){var t=e.values,n=e.errors,l=e.handleChange,i=e.handleBlur,o=e.touched;return Object(a.jsxs)(r.a,{display:"grid",gridTemplateColumns:"1fr 1fr",gridColumnGap:10,gridRowGap:10,mt:1,children:[Object(a.jsx)(s.c,{style:{gridColumnEnd:"span 2"},label:"Last shipping fee",name:"lastShippingFee",placeholder:"Last shipping fee",value:t.lastShippingFee,onBlur:i,onChange:l}),Object(a.jsx)(s.c,{label:"weight Lb",name:"weightLb",placeholder:"weightLb",value:t.weightLb,onBlur:i,onChange:l}),Object(a.jsx)(s.c,{label:"weight Oz",name:"weightOz",placeholder:"weightOz",value:t.weightOz,onBlur:i,onChange:l}),Object(a.jsx)(s.c,{label:"shipping Lb",name:"shippingLb",placeholder:"shippingLb",value:t.shippingLb,onBlur:i,onChange:l}),Object(a.jsx)(s.c,{label:"shipping Oz",name:"shippingOz",placeholder:"shippingOz",value:t.shippingOz,onBlur:i,onChange:l}),Object(a.jsx)(s.c,{style:{gridColumnEnd:"span 2"},fullWidth:!0,label:"size",placeholder:"size",name:"size",onChange:l,onBlur:i,error:Boolean(n.size&&o.size),value:t.size}),Object(a.jsx)(s.c,{style:{gridColumnEnd:"span 2"},fullWidth:!0,label:"Last Ordered Qty",placeholder:"Last Ordered Qty",name:"lastOrderedQty",onChange:l,onBlur:i,error:Boolean(n.lastOrderedQty&&o.lastOrderedQty),value:t.lastOrderedQty})]})},C=function(e){var t=e.values,n=void 0===t?"":t,l=e.handleChange,i=e.handleBlur,o=(e.selectedItem,e.device),s=Object(d.b)("/filter").data,b=Object(d.b)("/field").data;return s?Object(a.jsxs)(r.a,{mt:1,display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:10,children:[null===s||void 0===s?void 0:s.map((function(e){return Object(a.jsx)(h,{cluster:e,device:o,handleBlur:i,handleChange:l,values:n})})),Object(a.jsx)(u.a,{style:{gridColumnEnd:"span 2"}}),null===b||void 0===b?void 0:b.map((function(e){return Object(a.jsx)(p,{level:e,device:o,handleBlur:i,handleChange:l,values:n})}))]}):Object(a.jsx)(c.a,{})},y=function(e){var t=e.values,n=e.errors,l=e.handleChange,i=e.handleBlur,o=e.touched;return Object(a.jsxs)(r.a,{mt:1,display:"grid",gridTemplateColumns:"1fr 1fr",gridColumnGap:10,gridRowGap:10,children:[Object(a.jsx)(s.c,{name:"uom",label:"Unit Of Measure",placeholder:"Unit Of Measure",value:t.uom,onBlur:i,onChange:l}),Object(a.jsx)(s.c,{name:"lastUsedInBom",placeholder:"last Used In Bom",label:"last Used In Bom",value:t.lastUsedInBom,onBlur:i,onChange:l}),Object(a.jsx)(s.c,{name:"minOrder",label:"Minimum Order Quantity Per Purchase",placeholder:"Minimum Order Quantity Per Purchase",value:t.minOrder,onBlur:i,onChange:l,style:{gridColumnEnd:"span 2"}}),Object(a.jsx)(s.c,{name:"lastCount",label:"Last Count",placeholder:"Last Count",value:t.lastCount,onBlur:i,onChange:l}),Object(a.jsx)(s.c,{label:"last used in 90 days",value:t.usedInLastQuarter,name:"usedInLastQuarter",onChange:l,onBlur:i,error:Boolean(n.usedInLastQuarter&&o.usedInLastQuarter)}),Object(a.jsx)(s.c,{label:"last used in 60 days",value:t.usedInLastTwoMonth,name:"usedInLastTwoMonth",onChange:l,onBlur:i,error:Boolean(n.usedInLastTwoMonth&&o.usedInLastSixty)}),Object(a.jsx)(s.c,{label:"last used in 30 days",value:t.usedInLastMonth,name:"usedInLastMonth",onChange:l,onBlur:i,error:Boolean(n.usedInLastMonth&&o.usedInLastMonth)})]})}},573:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o}));var a=n(20),r=function(e,t){var n=new FormData;return n.append("photo",t),Object(a.g)("/unit/".concat(e,"/photo"),n)},l=function(e,t){return Object(a.b)("/unit/".concat(e,"/photo"),null,t)},i=function(e,t){if(t.dueDate){var n=new Date(t.dueDate);t.dueDate=n.getTime()}return Object(a.f)("/unit/".concat(e),t)},o=function(){return Object(a.d)("/unit")}},578:function(e,t,n){"use strict";var a=n(2),r=n(0),l=n(836),i=n(414);t.a=function(e){var t=e.onChange,n=e.accept,o=e.multiple,c=Object(r.useRef)(null);return Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{id:"custom-file-input",hidden:!0,type:"file",ref:function(e){return c.current=e},onChange:t,multiple:o,accept:n}),Object(a.jsx)("label",{htmlFor:"custom-file-input",children:Object(a.jsx)(i.a,{color:"primary",variant:"contained",onClick:function(){var e;return null===(e=c.current)||void 0===e?void 0:e.click()},startIcon:Object(a.jsx)(l.a,{}),children:"Upload"})})]})}},775:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f}));var a=n(15),r=n(2),l=n(0),i=n(180),o=n(157),c=n(22),u=n(182),d=n(414),s=n(159),b=n(781),j=n.n(b),h=n(183);function m(e){var t=e.open,n=e.onClose,i=e.onScan,c=Object(l.useState)(null),u=Object(a.a)(c,2);u[0],u[1];return Object(r.jsx)(h.a,{title:"QR Code Scanner",open:t,onClose:n,maxWidth:"sm",fullWidth:!0,children:Object(r.jsx)(o.a,{m:1,display:"flex",children:Object(r.jsx)(j.a,{delay:300,onError:function(e){console.log(e)},onScan:function(e){e&&i(e)},style:{width:"100%"}})})})}function p(e){var t=e.panel,n=Object(c.g)(),b=Object(l.useState)(!1),j=Object(a.a)(b,2),h=j[0],p=j[1],f=Object(l.useState)(),O=Object(a.a)(f,2),v=O[0],g=O[1],x=Object(u.b)(v?"/item/no/".concat(v):null).data;return Object(r.jsxs)(i.a,{style:{marginBottom:10},children:[Object(r.jsx)(m,{open:h,onClose:function(){return p(!1)},onScan:function(e){e&&g(e),p(!1)}}),Object(r.jsxs)(o.a,{p:1,display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gridGap:10,children:[Object(r.jsx)(s.c,{placeholder:"Number",value:v,onChange:function(e){return g(e.target.value)}}),Object(r.jsx)(s.c,{disabled:!x,placeholder:"Item Name",value:(null===x||void 0===x?void 0:x.name)||""}),Object(r.jsx)(d.a,{kind:"edit",onClick:function(){return p(!0)},children:"Scanner"}),Object(r.jsx)(d.a,{disabled:!v,variant:"contained",color:"primary",onClick:function(){return x&&n.push("/panel/".concat(t,"/").concat(x.id))},children:"Redirect"})]})]})}var f=function(){var e=Object(c.g)(),t=Object(l.useState)(!1),n=Object(a.a)(t,2),b=n[0],j=n[1],h=Object(l.useState)(),p=Object(a.a)(h,2),f=p[0],O=p[1],v=Object(u.b)(f?"/unit/".concat(f):null).data;return Object(r.jsxs)(i.a,{style:{marginBottom:10},children:[Object(r.jsx)(m,{open:b,onClose:function(){return j(!1)},onScan:function(e){e&&O(e),j(!1)}}),Object(r.jsxs)(o.a,{p:1,display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gridGap:10,children:[Object(r.jsx)(s.c,{placeholder:"Number",value:f,onChange:function(e){return O(e.target.value)}}),Object(r.jsx)(s.c,{disabled:!v,placeholder:"Item Name",value:(null===v||void 0===v?void 0:v.item.name)||""}),Object(r.jsx)(d.a,{kind:"edit",onClick:function(){return j(!0)},children:"Scanner"}),Object(r.jsx)(d.a,{disabled:!f,variant:"contained",color:"primary",onClick:function(){return v&&e.push("/panel/production/".concat(v.id))},children:"Redirect"})]})]})}},871:function(e,t,n){"use strict";var a=n(15),r=n(31),l=n.n(r),i=n(65),o=n(2),c=n(0),u=n(157),d=n(1397),s=n(1377),b=n(182),j=n(1403),h=n(159),m=n(424),p=n(422),f=function(e){e.isSubmitting;var t=e.values,n=e.errors,a=e.handleChange,r=e.handleBlur,l=e.touched;e.setFieldValue,e.device;return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(u.a,{display:"grid",gridTemplateColumns:"1fr 1fr",gridRowGap:10,gridColumnGap:10,pr:1,children:[Object(o.jsx)(h.c,{label:"Unit name",placeholder:"Unit name",name:"name",onChange:a,onBlur:r,error:Boolean(n.name&&l.name),value:t.item.name,style:{gridColumnEnd:"span 2"},disabled:!0}),Object(o.jsx)(h.c,{multiline:!0,style:{gridColumnEnd:"span 2"},rows:4,placeholder:"Unit Description",label:"Unit Description",name:"description",onChange:a,onBlur:r,value:t.item.description,disabled:!0}),Object(o.jsx)(h.c,{label:"Serial Number",value:t.item.no,name:"no",onChange:a,onBlur:r,error:Boolean(n.no&&l.no),placeholder:"Serial Number",style:{gridColumnEnd:"span 2"},disabled:!0}),Object(o.jsx)(p.a,{style:{gridColumnEnd:"span 2"},fullWidth:!0,label:"Status",items:["New","Sales Pending","Engineering Pending","Purchasing Pending","in Production","In Evaluation","In Testing","In Shipping","Shipped ","Started-Up"],name:"status",value:t.status,onChange:a,onBlur:r,error:Boolean(n.status)}),Object(o.jsx)(h.c,{label:"ID",placeholder:"ID",name:"number",onChange:a,onBlur:r,error:Boolean(n.number&&l.number),value:t.number,disabled:!0}),Object(o.jsx)(h.c,{label:"SO",value:t.so.number,name:"so",onChange:a,onBlur:r,error:Boolean(n.so&&l.so),placeholder:"SO",disabled:!0})]})})},O=function(e){e.isSubmitting;var t,n,a,r=e.values,l=(e.errors,e.handleChange,e.handleBlur),i=(e.touched,e.setFieldValue);e.device;return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(u.a,{mt:1,display:"grid",gridTemplateColumns:"1fr 1fr",style:{gap:10},children:[Object(o.jsx)(j.a,{size:"small",value:r.warrantyExpDate,name:"warrantyExpDate",label:"Warranty exp date",onChange:function(e){return i("warrantyExpDate",e)},onBlur:l}),Object(o.jsx)(h.c,{size:"small",value:Object(m.a)(null===r||void 0===r||null===(t=r.so)||void 0===t?void 0:t.date),name:"purchaseDate",label:"purchase date",onBlur:l,disabled:!0}),Object(o.jsx)(h.c,{size:"small",value:Object(m.a)(null===r||void 0===r||null===(n=r.so)||void 0===n?void 0:n.estimatedShipDate),name:"estimatedShipDate",label:"Estimated ship date",onBlur:l,disabled:!0}),Object(o.jsx)(h.c,{size:"small",value:Object(m.a)(null===r||void 0===r||null===(a=r.so)||void 0===a?void 0:a.actualShipDate),name:"actualShipDate",label:"Actual ship date",onBlur:l,disabled:!0}),Object(o.jsx)(j.a,{size:"small",value:r.estimatedLeadTime,name:"estimatedLeadTime",label:"Estimated Lead time",onChange:function(e){return i("estimatedLeadTime",e)},onBlur:l}),Object(o.jsx)(j.a,{size:"small",value:r.actualLeadTime,name:"actualLeadTime",label:"Actual Lead Time",onChange:function(e){return i("actualLeadTime",e)},onBlur:l})]})})},v=function(e){e.isSubmitting;var t,n,a,r=e.values,l=e.errors,i=e.handleChange,c=e.handleBlur,d=e.touched;e.setFieldValue,e.device;return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(u.a,{mt:1,display:"grid",gridTemplateColumns:"1fr 1fr",style:{gap:10},children:[Object(o.jsx)(h.c,{label:"Item Labor Time",value:r.itemLaborTime,name:"itemLaborTime",onChange:i,onBlur:c,error:Boolean(l.itemLaborTime&&d.itemLaborTime),placeholder:"Item Labor Time",disabled:!0}),Object(o.jsx)(h.c,{label:"Item Labor Cost",value:r.itemLaborCost,name:"itemLaborCost",onChange:i,onBlur:c,error:Boolean(l.itemLaborCost&&d.itemLaborCost),placeholder:"Item Labor Cost",disabled:!0}),Object(o.jsx)(h.c,{label:"Item BOM Cost",value:r.bomCost,name:"bomCost",onChange:i,onBlur:c,error:Boolean(l.bomCost&&d.bomCost),placeholder:"Item BOM Cost"}),Object(o.jsx)(h.c,{label:"Item Total Cost",value:null===(t=r.ItemId)||void 0===t?void 0:t.cost,onChange:i,onBlur:c,error:Boolean((null===(n=l.ItemId)||void 0===n?void 0:n.cost)&&(null===(a=d.ItemId)||void 0===a?void 0:a.cost)),placeholder:"Item Total Cost",disabled:!0})]})})},g=function(e){e.isSubmitting;var t=e.values,n=e.errors,a=e.handleChange,r=e.handleBlur,l=e.touched;e.setFieldValue,e.device;return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(u.a,{mt:1,display:"grid",gridTemplateColumns:"1fr 1fr",style:{gap:10},children:[Object(o.jsx)(h.c,{label:"Entity",value:t.entity,name:"entity",onChange:a,onBlur:r,error:Boolean(n.entity&&l.entity),placeholder:"Entity"}),Object(o.jsx)(h.c,{label:"Shipping Address",value:t.shippingAddress,name:"shippingAddress",onChange:a,onBlur:r,error:Boolean(n.shippingAddress&&l.shippingAddress),placeholder:"Shipping Address"}),Object(o.jsx)(h.c,{label:"Contact Person",value:t.contactPerson,name:"contactPerson",onChange:a,onBlur:r,error:Boolean(n.contactPerson&&l.contactPerson),placeholder:"Contact Person"}),Object(o.jsx)(h.c,{label:"Contact Person Email",value:t.contactPersonEmail,name:"contactPersonEmail",onChange:a,onBlur:r,error:Boolean(n.contactPersonEmail&&l.contactPersonEmail),placeholder:"Contact Person Email"}),Object(o.jsx)(h.c,{label:"Contact Person Phone Number",value:t.contactPersonPhone,name:"contactPersonPhone",onChange:a,onBlur:r,error:Boolean(n.contactPersonPhone&&l.contactPersonPhone),placeholder:"Contact Person Phone Number"}),Object(o.jsx)(h.c,{label:"Unit Location",value:t.unitLocation,name:"unitLocation",onChange:a,onBlur:r,error:Boolean(n.unitLocation&&l.unitLocation),placeholder:"Unit Location"})]})})},x=n(414),C=n(423),y=n(421),w=n(573),B=n(87),S=n(80),k=n(438),I=n(505),D=n(455),N=n(18),F=n(872),T=n(857),L=n(870),P=n(183),M=n(578),E=n(20),V=S.c().shape({}),A=function(e){var t=e.open,n=e.onClose,a=e.unitId,r=e.init,c=function(){var e=Object(i.a)(l.a.mark((function e(t,i){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l=r.id,o=Object(N.a)(Object(N.a)({},t),{},{UnitId:a}),Object(E.f)("/shipment/".concat(l),o);case 3:Object(b.c)("/shipment?UnitId=".concat(a)),n(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.prev=10,i(!1),e.finish(10);case 13:case"end":return e.stop()}var l,o}),e,null,[[0,7,10,13]])})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t=r.id,Object(E.b)("/shipment/".concat(t));case 3:Object(b.c)("/shipment?UnitId=".concat(a)),n(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}var t}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(o.jsx)(P.a,{open:t,onClose:n,fullWidth:!0,maxWidth:"md",title:"Edit Shipment",children:Object(o.jsx)(B.b,{initialValues:r,onSubmit:c,validationSchema:V,children:function(e){var t=e.values,n=e.errors,a=e.touched,r=e.handleChange,l=e.handleBlur,i=e.setFieldValue;e.setSubmitting;return Object(o.jsxs)(B.a,{children:[Object(o.jsx)(u.a,{p:5,style:{padding:"30px 15%"},children:Object(o.jsx)(z,{values:t,touched:a,errors:n,handleBlur:l,handleChange:r,setFieldValue:i})}),Object(o.jsxs)(u.a,{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"10px auto",width:"50%",children:[Object(o.jsx)(x.a,{type:"submit",kind:"edit",children:"Save"}),Object(o.jsx)(x.a,{kind:"delete",onClick:function(){d()},children:"Delete"})]})]})}})})},R=function(e){var t=e.open,n=e.onClose,r=e.unitId,d=Object(c.useState)(0),s=Object(a.a)(d,2),j=s[0],h=s[1],m=Object(c.useState)(),p=Object(a.a)(m,2),f=(p[0],p[1]),O=Object(b.b)("/unit/".concat(r)).data,v=function(){var e=Object(i.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=9;break}if(t.target.files||t.target.files[0]){e.next=3;break}return e.abrupt("return");case 3:return n=t.target.files[0],a=URL.createObjectURL(n),e.next=7,Object(w.a)(r,n);case 7:e.sent&&(f(a),Object(b.c)("/unit/".concat(r)));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(i.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=6;break}return n={url:t},e.next=4,Object(w.b)(r,n);case 4:e.sent&&Object(b.c)("/unit/".concat(r));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){h((function(e){return e+1}))},y=function(){h((function(e){return e-1}))},S=function(){var e=Object(i.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l=Object(N.a)(Object(N.a)({},t),{},{UnitId:r}),Object(E.g)("/shipment",l);case 3:Object(b.c)("/shipment?UnitId=".concat(r)),n(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.prev=10,a(!1),e.finish(10);case 13:case"end":return e.stop()}var l}),e,null,[[0,7,10,13]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(o.jsx)(P.a,{open:t,onClose:n,fullWidth:!0,maxWidth:"md",title:"Add New Shipment",children:Object(o.jsx)(B.b,{initialValues:{},onSubmit:S,validationSchema:V,children:function(e){var t=e.values,n=e.errors,a=e.touched,r=e.handleChange,l=e.handleBlur,i=e.setFieldValue;e.setSubmitting;return Object(o.jsxs)(B.a,{children:[Object(o.jsxs)(F.a,{activeStep:j,children:[Object(o.jsx)(T.a,{children:Object(o.jsx)(L.a,{children:"Packing Instruction"})}),Object(o.jsx)(T.a,{children:Object(o.jsx)(L.a,{children:"Packing"})}),Object(o.jsx)(T.a,{children:Object(o.jsx)(L.a,{children:"Pictures"})}),Object(o.jsx)(T.a,{children:Object(o.jsx)(L.a,{children:"Shipped"})})]}),Object(o.jsxs)(u.a,{p:5,style:{padding:"30px 15%"},children:[0===j&&Object(o.jsx)(o.Fragment,{}),1===j&&Object(o.jsx)(o.Fragment,{}),2===j&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{style:{display:"flex",width:"100%",justifyContent:"center"},children:Object(o.jsx)(M.a,{onChange:v,accept:"image/*"})}),Object(o.jsx)("div",{children:O&&O.photo[0]&&O.photo.map((function(e){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("img",{style:{maxWidth:"100%",height:"auto",maxHeight:400,margin:"0px auto"},alt:"",src:"http://digitalphocus.ir".concat(e)}),Object(o.jsx)(x.a,{kind:"delete",onClick:function(){return g(e)},children:"delete"})]})}))})]}),3===j&&Object(o.jsx)(z,{values:t,touched:a,errors:n,handleBlur:l,handleChange:r,setFieldValue:i})]}),Object(o.jsxs)(u.a,{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"10px auto",width:"50%",children:[Object(o.jsx)(x.a,{variant:"contained",disabled:0===j,onClick:y,children:"Back"}),Object(o.jsx)(x.a,{type:"submit",kind:"add",children:"Save"}),Object(o.jsx)(x.a,{variant:"contained",color:"primary",onClick:C,disabled:3===j,children:"Next"})]})]})}})})},z=function(e){var t=e.values,n=e.touched,a=e.errors,r=e.handleBlur,l=e.handleChange,i=e.setFieldValue;return Object(o.jsxs)(u.a,{my:2,display:"grid",gridColumnGap:10,gridRowGap:10,gridTemplateColumns:"1fr 1fr",children:[Object(o.jsx)(h.c,{name:"deliveryMethod",value:t.deliveryMethod,onBlur:r,onChange:l,error:Boolean(a.deliveryMethod),helperText:n.deliveryMethod&&a.deliveryMethod&&String(a.deliveryMethod),label:"Delivery Method",placeholder:"Delivery Method"}),Object(o.jsx)(h.c,{name:"trackingNumber",value:t.trackingNumber,onBlur:r,onChange:l,error:Boolean(a.trackingNumber),helperText:n.trackingNumber&&a.trackingNumber&&String(a.trackingNumber),label:"Tracking Number",placeholder:"Tracking Number"}),Object(o.jsx)(h.c,{name:"carrier",value:t.carrier,onBlur:r,onChange:l,error:Boolean(a.carrier),helperText:n.carrier&&a.carrier&&String(a.carrier),label:"Carrier",placeholder:"Carrier"}),Object(o.jsx)(h.c,{name:"shipmentNo",value:t.shipmentNo,onBlur:r,onChange:l,error:Boolean(a.shipmentNo),helperText:n.shipmentNo&&a.shipmentNo&&String(a.shipmentNo),label:"shipment No.",placeholder:"shipment No."}),Object(o.jsx)(j.a,{name:"deliveryDate",value:t.deliveryDate||null,onChange:function(e){return i("deliveryDate",e&&new Date(null===e||void 0===e?void 0:e.toISOString()).getTime())},onBlur:r,error:Boolean(a.deliveryDate),helperText:a.deliveryDate,size:"small",placeholder:"Delivery Date",label:"Delivery Date"}),Object(o.jsx)(j.a,{name:"shipDate",value:t.shipDate||null,onChange:function(e){return i("shipDate",e&&new Date(null===e||void 0===e?void 0:e.toISOString()).getTime())},onBlur:r,error:Boolean(a.shipDate),helperText:a.shipDate,size:"small",placeholder:"Shipping Date",label:"Shipping Date"})]})},Q=n(445),U=n(511),q=S.c().shape({});t.a=function(e){var t=e.unit,n=function(){var e=Object(i.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(null===t||void 0===t?void 0:t.id)){e.next=7;break}return e.next=4,Object(w.d)(t.id,Object(Q.d)(n,t));case 4:return e.next=6,Object(b.c)("/unit");case 6:Object(k.a)("Unit updated","success");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),r=Object(c.useState)(0),j=Object(a.a)(r,2),h=j[0],p=j[1],S=Object(c.useState)(0),N=Object(a.a)(S,2),F=N[0],T=N[1],L=Object(c.useState)(!1),P=Object(a.a)(L,2),M=P[0],E=P[1],V=Object(c.useState)(!1),z=Object(a.a)(V,2),G=z[0],W=z[1],H=Object(c.useState)(!1),_=Object(a.a)(H,2),J=_[0],Y=_[1],K=Object(c.useState)(),X=Object(a.a)(K,2),Z=X[0],$=X[1],ee=Object(b.b)(1===F?"/lineservice?UnitId=".concat(t.id):null).data,te=Object(b.b)(2===F?"/ubom?UnitId=".concat(t.id):null).data,ne=Object(b.b)(3===F?"/document/unit/".concat(t.id):null).data,ae=Object(b.b)(4===F?"/shipment?UnitId=".concat(t.id):null).data,re=Object(b.b)(6===F?"/unit?SOId=".concat(t.so.id):null).data,le=Object(b.b)(7===F?"/ticket?UnitId=".concat(t.id):null).data,ie=Object(c.useMemo)((function(){return[{field:"Line",width:80},{field:"Component",width:180},{field:"Component Name",width:180},{field:"Component Location",flex:1},{field:"UM",width:120},{field:"QTY",width:120},{field:"Note",width:200}]}),[]),oe=Object(c.useMemo)((function(){return[{field:"date",headerName:"Date",type:"date",width:120},{field:"number",headerName:"Warranty Number",width:160},{field:"name",headerName:"Name",width:160},{field:"description",headerName:"Note",flex:1},{field:"term",headerName:"Term",flex:1},{field:"status",headerName:"Status",width:150}]}),[]),ce=Object(c.useMemo)((function(){return[{field:"targetDate",headerName:"Target Date",type:"date",width:130},{field:"shipDate",headerName:"Actual Date",width:130},{field:"shipmentNo",headerName:"Shipment No",width:130},{field:"carrier",headerName:"Carrier",flex:1},{field:"deliveryMethod",headerName:"Delivery Method",flex:1},{field:"trackingNumber",headerName:"Tracking Number",width:150}]}),[]),ue=(Object(c.useMemo)((function(){return[{field:"Option Number",valueFormatter:function(e){var t,n;return null===(t=e.row)||void 0===t||null===(n=t.ItemId)||void 0===n?void 0:n.no},flex:1},{field:"Option Name",valueFormatter:function(e){var t,n;return null===(t=e.row)||void 0===t||null===(n=t.ItemId)||void 0===n?void 0:n.name},flex:1},{field:"Option Description",valueFormatter:function(e){var t,n;return null===(t=e.row)||void 0===t||null===(n=t.ItemId)||void 0===n?void 0:n.description},flex:1},{field:"quantity",headerName:"Quantity",width:100}]}),[]),Object(c.useMemo)((function(){return[{field:"Date",valueFormatter:function(e){var t;return Object(m.a)(null===(t=e.row)||void 0===t?void 0:t.createdAt)},width:120},{field:"Ticket ID",valueFormatter:function(e){var t;return null===(t=e.row)||void 0===t?void 0:t.number},width:120},{field:"Subject",valueFormatter:function(e){var t;return null===(t=e.row)||void 0===t?void 0:t.subject},flex:1},{field:"Unit",valueFormatter:function(e){var t,n;return null===(t=e.row)||void 0===t||null===(n=t.UnitId)||void 0===n?void 0:n.number},width:150},{field:"Assigned To",valueFormatter:function(e){var t,n;return null===(t=e.row)||void 0===t||null===(n=t.assignee)||void 0===n?void 0:n.username},width:120},{field:"Contact",valueFormatter:function(e){var t;return null===(t=e.row)||void 0===t?void 0:t.ContactId.lastName},width:120},{field:"Status",valueFormatter:function(e){var t;return null===(t=e.row)||void 0===t?void 0:t.status},width:120}]}),[])),de=Object(c.useMemo)((function(){return[{field:"date",headerName:"Date",valueFormatter:function(e){var t;return Object(m.a)(null===(t=e.row)||void 0===t?void 0:t.createdAt)},width:120},{field:"EmployeeId",headerName:"Creator",valueFormatter:function(e){var t,n;return null===(t=e.row)||void 0===t||null===(n=t.employee)||void 0===n?void 0:n.username},width:120},{field:"name",headerName:"Name",flex:1},{field:"id",headerName:"ID",width:200},{field:"description",headerName:"Description",flex:1},{field:"type",headerName:"File Type",valueFormatter:function(e){var t;return Object(I.a)(null===(t=e.row)||void 0===t?void 0:t.path)},width:120}]}),[]),se=Object(c.useMemo)((function(){return[{field:"Option Number",valueFormatter:function(e){var t,n;return null===(t=e.row)||void 0===t||null===(n=t.ItemId)||void 0===n?void 0:n.no},flex:1},{field:"Option Description",valueFormatter:function(e){var t,n;return null===(t=e.row)||void 0===t||null===(n=t.ItemId)||void 0===n?void 0:n.description},flex:1}]}),[]);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(D.a,{open:M,onClose:function(){return E(!1)},itemId:null===t||void 0===t?void 0:t.id,model:"unit"}),t&&t.id&&Object(o.jsx)(R,{open:G,onClose:function(){return W(!1)},unitId:t.id}),t&&t.id&&Z&&Object(o.jsx)(A,{open:J,onClose:function(){return Y(!1)},unitId:t.id,init:Z}),Object(o.jsx)(B.b,{initialValues:t,validationSchema:q,onSubmit:n,children:function(e){var n,a,r=e.values,l=e.errors,i=e.handleChange,c=e.handleBlur,b=e.isSubmitting,j=e.setFieldValue,m=e.touched;return Object(o.jsx)(B.a,{children:Object(o.jsxs)(u.a,{mb:2,display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:10,children:[Object(o.jsxs)(C.a,{children:[Object(o.jsx)(f,{values:r,errors:l,touched:m,handleBlur:c,handleChange:i,setFieldValue:j}),Object(o.jsx)(u.a,{textAlign:"center",my:1,children:Object(o.jsx)(x.a,{disabled:b,kind:"add",type:"submit",children:"Save"})})]}),Object(o.jsxs)(C.a,{children:[Object(o.jsxs)(d.a,{value:h,onChange:function(e,t){return p(t)},style:{marginBottom:"0.5em"},children:[Object(o.jsx)(s.a,{label:"Image"}),Object(o.jsx)(s.a,{label:"Status"}),Object(o.jsx)(s.a,{label:"Expense"}),Object(o.jsx)(s.a,{label:"Shipping"}),Object(o.jsx)(s.a,{label:"Cluster & Level"})]}),0===h&&Object(o.jsx)(u.a,{mt:1,height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gridGap:10,children:(null===t||void 0===t||null===(n=t.item)||void 0===n?void 0:n.photo)&&Object(o.jsx)("img",{style:{maxWidth:"100%",height:"auto",maxHeight:400,margin:"0px auto"},alt:"",src:"http://digitalphocus.ir".concat(null===t||void 0===t||null===(a=t.item)||void 0===a?void 0:a.photo)})}),1===h&&Object(o.jsx)(O,{values:r,errors:l,touched:m,handleBlur:c,handleChange:i,setFieldValue:j}),2===h&&Object(o.jsx)(v,{values:r,errors:l,touched:m,handleBlur:c,handleChange:i,setFieldValue:j}),3===h&&Object(o.jsx)(g,{values:r,errors:l,touched:m,handleBlur:c,handleChange:i,setFieldValue:j}),4===h&&Object(o.jsx)(U.a,{values:r.item,handleChange:i,handleBlur:c,setFieldValue:j,errors:l,touched:m,selectedItem:null===t||void 0===t?void 0:t.item})]})]})})}}),Object(o.jsxs)(C.a,{children:[Object(o.jsxs)(d.a,{value:F,onChange:function(e,t){return T(t)},children:[Object(o.jsx)(s.a,{label:"Phocus Monitor"})," 0",Object(o.jsx)(s.a,{label:"Warranties"})," 1",Object(o.jsx)(s.a,{label:"Job"})," 2",Object(o.jsx)(s.a,{label:"Documents"})," 3",Object(o.jsx)(s.a,{label:"Shipment"})," 4",Object(o.jsx)(s.a,{label:"Quality Control"})," 5",Object(o.jsx)(s.a,{label:"Sales Order Items"})," 6",Object(o.jsx)(s.a,{label:"Field Service History"})," 7",Object(o.jsx)(s.a,{label:"Note"})," 8",Object(o.jsx)(s.a,{label:"Auditing"})," 9"]}),1===F&&Object(o.jsx)(u.a,{children:Object(o.jsx)(y.b,{cols:oe,rows:ee||[],onRowSelected:function(e){}})}),2===F&&Object(o.jsx)(y.b,{cols:ie,rows:te||[],onRowSelected:function(e){}}),3===F&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(x.a,{onClick:function(){E(!0)},variant:"outlined",children:"+ Add Document"}),Object(o.jsx)(y.b,{height:250,cols:de,rows:ne&&ne.length?ne:[],onRowSelected:function(e){}})]}),4===F&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(x.a,{onClick:function(){W(!0)},variant:"outlined",children:"+ Add Shipment"}),Object(o.jsx)(y.b,{cols:ce,rows:ae||[],onRowSelected:function(e){$(e),Y(!0)}})]}),6===F&&Object(o.jsx)(y.b,{cols:se,rows:re.result||[],onRowSelected:function(e){}}),7===F&&Object(o.jsx)(y.b,{cols:ue,rows:le||[],onRowSelected:function(e){}})]})]})}},945:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var a=n(15),r=n(2),l=n(0),i=n(157),o=n(1397),c=n(1377),u=n(182),d=n(421),s=n(423),b=n(871),j=n(424),h=n(775);function m(){var e=Object(l.useState)(0),t=Object(a.a)(e,2),n=t[0],m=t[1],p=Object(l.useState)(),f=Object(a.a)(p,2),O=f[0],v=f[1],g=Object(u.b)("/unit").data,x=[{field:"Device",headerName:"Device",flex:1,valueFormatter:function(e){var t,n;return null===(t=e.row)||void 0===t||null===(n=t.item)||void 0===n?void 0:n.no}},{field:"EST.S.D",valueFormatter:function(e){var t,n;return Object(j.a)(null===(t=e.row)||void 0===t||null===(n=t.so)||void 0===n?void 0:n.estimatedShipDate)},width:120},{field:"Act.S.D.",valueFormatter:function(e){var t,n;return Object(j.a)(null===(t=e.row)||void 0===t||null===(n=t.so)||void 0===n?void 0:n.actualShipDate)},width:120},{field:"status",headerName:"Status",width:100},{field:"warrantyStatus",headerName:"Warranty Status",width:150},{field:"warrantyEndDate",headerName:"warranty End Date",width:150},{field:"SO NO.",headerName:"SO NO.",width:90,valueFormatter:function(e){var t,n;return null===(t=e.row)||void 0===t||null===(n=t.so)||void 0===n?void 0:n.number}},{field:"SO Date",headerName:"SO Date",width:100,valueFormatter:function(e){var t,n;return Object(j.a)(null===(t=e.row)||void 0===t||null===(n=t.so)||void 0===n?void 0:n.createdAt)}}];return Object(r.jsx)(i.a,{children:Object(r.jsxs)(s.a,{children:[Object(r.jsxs)(o.a,{value:n,textColor:"primary",onChange:function(e,t){return m(t)},style:{marginBottom:10},children:[Object(r.jsx)(c.a,{label:"List"}),Object(r.jsx)(c.a,{label:"Details",disabled:!O})]}),0===n&&g&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(h.a,{}),Object(r.jsx)(d.b,{rows:g.result||[],cols:x,onRowSelected:function(e){v(e),m(1)}})]}),1===n&&O&&Object(r.jsx)(b.a,{unit:O})]})})}}}]);
//# sourceMappingURL=26.dcdde945.chunk.js.map